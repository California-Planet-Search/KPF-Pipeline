from modules.quicklook.src.quick_prim import Quicklook

output_dir= '/data/QLP/' + config.ARGUMENT.datecode + '/'
#files = '/data/L0/' + config.ARGUMENT.datecode + '/' + '*.fits'

if config.ARGUMENT.do_l0:
    for input_file in find_files('/data/L0/' + config.ARGUMENT.datecode + '/' + config.ARGUMENT.obsid + '.fits'):
        open_file = kpf0_from_fits(input_file, data_type='KPF')
        Quicklook(open_file, '/data/QLP/' + config.ARGUMENT.datecode + '/', 'L0')

if config.ARGUMENT.do_2d:
    for input_file in find_files('/data/2D/' + config.ARGUMENT.datecode + '/' + config.ARGUMENT.obsid + '_2D.fits'):
        open_file = kpf0_from_fits(input_file, data_type='KPF')
        Quicklook(open_file, '/data/QLP/' + config.ARGUMENT.datecode + '/', '2D')

if config.ARGUMENT.do_l1:
    for input_file in find_files('/data/L1/' + config.ARGUMENT.datecode + '/' + config.ARGUMENT.obsid + '_L1.fits'):
        open_file = kpf1_from_fits(input_file, data_type='KPF')
        Quicklook(open_file, '/data/QLP/' + config.ARGUMENT.datecode + '/', 'L1')

if config.ARGUMENT.do_l2:
    for input_file in find_files('/data/L2/' + config.ARGUMENT.datecode + '/' + config.ARGUMENT.obsid + '_L2.fits'):
        open_file = kpf2_from_fits(input_file, data_type='KPF')
        Quicklook(open_file, '/data/QLP/' + config.ARGUMENT.datecode + '/', 'L2')
